/// <reference path="../../index.d.ts" />

declare namespace mc {
  /**
   * ### æ‰§è¡Œä¸€æ¡åå°å‘½ä»¤
   *
   * @param cmd å¾…æ‰§è¡Œçš„å‘½ä»¤
   *
   * @returns æ˜¯å¦æ‰§è¡ŒæˆåŠŸ
   */
  function runcmd(cmd: string): boolean;

  /**
   * ### æ‰§è¡Œä¸€æ¡åå°å‘½ä»¤ï¼ˆå¼ºåŒ–ç‰ˆï¼‰
   *
   * **æç¤º**ï¼š`runcmdEx` ä¸æ™®é€š {@linkcode runcmd} å®ç°åŒºåˆ«éå¸¸å¤§ï¼Œåœ¨äº Ex ç‰ˆæœ¬æ‹¥æœ‰**éšè—æ‰§è¡Œ**çš„æœºåˆ¶ï¼Œæ‰§è¡Œç»“æœä¸ä¼šè¾“å‡ºè‡³æ§åˆ¶å°ï¼Œ\
   * å› æ­¤å¦‚æœæœ‰éœ€è¦ï¼Œè¦æ‰‹åŠ¨ç”¨ {@linkcode log} å‡½æ•°å°†ç»“æœè¾“å‡º
   *
   * @param cmd å¾…æ‰§è¡Œçš„å‘½ä»¤
   *
   * @returns å‘½ä»¤æ‰§è¡Œç»“æœ
   */
  function runcmdEx(cmd: string): {
    /** æ˜¯å¦æ‰§è¡ŒæˆåŠŸ */
    success: boolean;

    /** BDSæ‰§è¡Œå‘½ä»¤åçš„è¾“å‡ºç»“æœ */
    output: string;
  };

  /**
   * ### æ¨¡æ‹Ÿäº§ç”Ÿä¸€ä¸ªæ§åˆ¶å°å‘½ä»¤è¾“å‡º
   *
   * @param output
   *
   * @returns æ˜¯å¦æˆåŠŸæ‰§è¡Œ
   */
  function sendCmdOutput(output: string): boolean;

  /**
   * ### æ³¨å†Œä¸€æ¡é¡¶å±‚å‘½ä»¤
   *
   * è¿™é‡Œæä¾›äº†æ³¨å†Œè‡ªå®šä¹‰å‘½ä»¤çš„æ¥å£ã€‚
   *
   * é€šè¿‡å¯¹æ¥ BDS å†…ç½®çš„å‘½ä»¤ç³»ç»Ÿï¼Œä½ æ³¨å†Œçš„å‘½ä»¤å¯ä»¥ç”±ç©å®¶ã€æ§åˆ¶å°ã€å‘½ä»¤æ–¹å—ã€NPCç­‰å„ç§æ¸¸æˆä¸­å¯ä»¥æ‰§è¡Œå‘½ä»¤çš„å¯¹è±¡æ‰€ä½¿ç”¨ï¼Œ\
   * åœ¨ addon ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™é‡Œæ‰€æ³¨å†Œçš„å‘½ä»¤ã€‚
   *
   * @see {@linkcode Command}
   * @see [ğŸ¯ å‘½ä»¤æ³¨å†ŒAPI](https://docs.litebds.com/zh-Hans/#/LLSEPluginDevelopment/GameAPI/Command)
   *
   * @param cmd å¾…æ³¨å†Œçš„å‘½ä»¤
   * @param description å‘½ä»¤æè¿°æ–‡æœ¬
   * @param permission æŒ‡ä»¤æ‰§è¡Œæ‰€éœ€æƒé™ï¼Œé»˜è®¤ä¸º{@linkcode PermType.GameMasters}
   * @param flag é»˜è®¤å€¼ `0x80`ï¼Œç›®å‰ç›´æ¥æŒ‰æ­¤è¾“å…¥å³å¯ï¼Œåç»­ä¼šè¿›è¡Œç›¸å…³ä¿®æ”¹
   * @param alias å‘½ä»¤çš„åˆ«å
   *
   * å¯ä»¥ä¸ºå‘½ä»¤è®¾ç½®å¤šä¸ªåˆ«åï¼Œæ‰§è¡Œçš„æ—¶å€™ç›¸å½“äºè§¦å‘åŒä¸€æ¡å‘½ä»¤\
   * ï¼ˆè¿™é‡Œåªèƒ½å¡«ä¸€ä¸ªï¼Œå»ºè®®ä½¿ç”¨{@linkcode Command.setAlias()}ï¼‰
   *
   * @returns æŒ‡ä»¤å¯¹è±¡
   */
  function newCommand(
    cmd: string,
    description: string,
    permission?: PermType,
    flag?: number,
    alias?: string
  ): Command;

  /**
   * @deprecated
   *
   * ### æ³¨å†Œä¸€ä¸ªæ–°çš„ç©å®¶å‘½ä»¤ï¼ˆå‡å‘½ä»¤ï¼‰
   *
   * **è­¦å‘Š**ï¼š
   *
   * è¿™é‡Œçš„å‡å‘½ä»¤APIä¸º **å‘ä¸‹å…¼å®¹** è€Œç•™å­˜ï¼Œè¯·å°½é‡ä½¿ç”¨ çœŸå‘½ä»¤API
   *
   * å°½ç®¡çœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å‡å‘½ä»¤æœ‰ä¸€äº›å¾ˆé‡è¦çš„ç¼ºç‚¹ï¼ŒåŒ…æ‹¬åªèƒ½ç”±ç©å®¶æˆ–æ§åˆ¶å°æ‰§è¡Œï¼Œå…¶ä»–å¯¹è±¡ï¼ˆå¦‚å‘½ä»¤æ–¹å—ã€NPCç­‰ï¼‰éƒ½æ— æ³•æ‰§è¡Œã€æ‰€æœ‰å‚æ•°æ•°æ®éƒ½éœ€è¦è‡ªè¡Œè§£æç­‰ç­‰ã€‚
   *
   * @see {@linkcode mc.newCommand()}
   *
   * @param cmd å¾…æ³¨å†Œçš„å‘½ä»¤
   * @param description å‘½ä»¤æè¿°æ–‡æœ¬
   * @param callback æ³¨å†Œçš„è¿™ä¸ªå‘½ä»¤è¢«æ‰§è¡Œæ—¶ï¼Œæ¥å£è‡ªåŠ¨è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚
   * @param level å‘½ä»¤çš„æ³¨å†Œç­‰çº§ï¼Œé»˜è®¤ä¸º `0` ï¼Œå³æ‰€æœ‰äººéƒ½å¯ä»¥æ‰§è¡Œ  å¦‚æœè®¾ç½®å‘½ä»¤æ³¨å†Œç­‰çº§ä¸º`1`ï¼Œåˆ™åªæœ‰OPå¯ä»¥æ‰§è¡Œæ­¤å‘½ä»¤
   *
   * @returns æ˜¯å¦æ³¨å†ŒæˆåŠŸ
   */
  function regPlayerCmd(
    cmd: string,
    description: string,
    callback: (player: Player, args: Array<string>) => void,
    level?: number
  ): boolean;

  /**
   * @deprecated
   *
   * ### æ³¨å†Œä¸€ä¸ªæ–°çš„æ§åˆ¶å°å‘½ä»¤ï¼ˆå‡å‘½ä»¤ï¼‰
   *
   * **è­¦å‘Š**ï¼š
   *
   * è¿™é‡Œçš„å‡å‘½ä»¤APIä¸º **å‘ä¸‹å…¼å®¹** è€Œç•™å­˜ï¼Œè¯·å°½é‡ä½¿ç”¨ çœŸå‘½ä»¤API
   *
   * å°½ç®¡çœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å‡å‘½ä»¤æœ‰ä¸€äº›å¾ˆé‡è¦çš„ç¼ºç‚¹ï¼ŒåŒ…æ‹¬åªèƒ½ç”±ç©å®¶æˆ–æ§åˆ¶å°æ‰§è¡Œï¼Œå…¶ä»–å¯¹è±¡ï¼ˆå¦‚å‘½ä»¤æ–¹å—ã€NPCç­‰ï¼‰éƒ½æ— æ³•æ‰§è¡Œã€æ‰€æœ‰å‚æ•°æ•°æ®éƒ½éœ€è¦è‡ªè¡Œè§£æç­‰ç­‰ã€‚
   *
   * @see {@linkcode mc.newCommand()}
   *
   * @param cmd å¾…æ³¨å†Œçš„å‘½ä»¤
   * @param description å‘½ä»¤æè¿°æ–‡æœ¬
   * @param callback æ³¨å†Œçš„è¿™ä¸ªå‘½ä»¤è¢«æ‰§è¡Œæ—¶ï¼Œæ¥å£è‡ªåŠ¨è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚
   *
   * @returns æ˜¯å¦æ³¨å†ŒæˆåŠŸ
   */
  function regPlayerCmd(
    cmd: string,
    description: string,
    callback: (args: Array<string>) => void
  ): boolean;
}
